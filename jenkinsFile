pipeline {
	    agent any  // runs on any available agent

	    tools {
	       maven 'Maven'
	    }

	    stages {
	        stage('Build') {
	            steps {
	                git 'https://github.com/Neetu17/PlaywrightPOMOpenCart'
						sh 'mvn clean install'
	            }	}
	        }

	        stage("Deply to QA") {
	            steps {
	                echo("deply to QA")
	            }
	        }

	  stage("Regression Automation Test") 
			{
	            steps {
	                catchError(buildResult: "SUCCESS", stageResult: "Failure")
					{	
					 git 'https://github.com/Neetu17/PlaywrightPOMOpenCart'
					sh mvn clean test 
					}

	            	}
	        }

	}
